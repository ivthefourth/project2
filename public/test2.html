<!DOCTYPE html>
<html>
<head>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body>
   <!-- Modal Trigger Button-->
  <h1>Modal Test Page</h1>
    <p>A modal sandbox page to test modal for user creation</p>
    <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Create Account</a>

  <!-- Modal Structure -->
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Create Account</h4>
        <div> 
          <label for="username">Username</label>
          <input id="username" type="text" class="validate">

          <label for="passwd">password</label>
          <input id="passwd" type="password" class="validate">
        </div>
      </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>
  <!--Import jQuery before materialize.js-->
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

  <script>
    //var express = require("express");
    //require('../routes/routes.js')

    $(document).ready(function(){

      
    // the "href" attribute of the modal trigger must specify the modal ID that wants to be triggered
      $('.modal').modal();
      $('.btn-flat').on('click', function(){
        event.preventDefault();
        var newAccount = {
          username: $('#username').val().trim(),
          password: $('#passwd').val().trim()
        };  
        console.log('Input Data: ' + newAccount);

        $.post("/account", newAccount, function(result){
          console.log("post result: " + result);
        })
      });


/*          var txt = $("input").val();
    $.post("demo_ajax_gethint.asp", {suggest: txt}, function(result){
        $("span").html(result);
    });*/
/*

      $.ajax('/account', {
        type: 'POST',
        data: newAccount
      });*/
});
  </script>
          
</body>
</html>