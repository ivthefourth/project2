<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8">
   <title>BGE</title>
   <meta name="description" content="">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">

   <!-- jQuery -->
   <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

   <!-- materialize -->
   <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
   <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

   <!-- javascript -->
   <!-- <script src="notScript.js"></script> -->

    <script  type="text/javascript" src="/createUser.js"></script>

   <!-- CSS -->
   <link rel="stylesheet" href="/notStyle.css">

</head>
<body>


  <div id="select-level-head" >
      <h3 id="selectText">Select a level to play</h3>
      <div id="select-level">
     <!-- This is where the auto-generated levels would go (see jQuery below) -->
      </div>
  </div>


<script type="text/javascript">
$(document).ready(function(){

  $('#modal-level').modal('open');

  // get the list of available levels for the user
  	getAvailableLevels(function(levelArray) {
        var levelCount = 1;  // keeping count of the level starting with 1


	  	// if (levelArray.length === 1) {

	  	// 	window.location = `/levels/${levelCount}?token=${localStorage.getItem('jwtoken')}`;

	  	// } else {

		  	for(i=0; i<levelArray.length; i++) {


		  		levelName = levelArray[i].name;

          // display the levels returned and create the links to be able to play each level
		  		var levelDiv = $("<class='levelCard card small horizontal col s12 m6' >");
          var levelUrl = $("<a />", {
            href: '/levels/' + levelCount + "?token=" + localStorage.getItem('jwtoken'),
            id: 'levelLink',
            text: levelName});

		  		// 
          $("#select-level").append(levelDiv);
		  		$("#select-level").append(levelUrl);

		  		levelCount++;
		  		};
		   		
		  	// };
	  		
  	});

}); //end document ready
</script>

</body>
</html>